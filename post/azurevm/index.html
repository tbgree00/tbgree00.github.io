<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How to Create an Azure Virtual Machine</title>
<meta name="description" content=" Based in Lexington, KY, Virtualizing a Physical World is a blog by Thom Greene. His posts explore the world of technology certification, VMware troubleshooting, and interesting experiences in the tech world.">
<meta name="generator" content="Hugo 0.37" />
<meta property="og:title" content="How to Create an Azure Virtual Machine" />
<meta property="og:description" content="One of the most basic tasks a VMware administrator will perform is deploying a virtual machine. Whether it is creating a VM from scratch or using a template, we&rsquo;ve all worked through the wizard.
As I dig deeper into Azure I can&rsquo;t help but bring my experience with vSphere along with me. The Azure Resource Manger is a very different experience from the vSphere Web Client but there also quite a few similarities." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tbgree00.github.io/post/azurevm/" />



<meta property="article:published_time" content="2017-05-30T12:57:51-04:00"/>

<meta property="article:modified_time" content="2017-05-30T12:57:51-04:00"/>











<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//fonts.gstatic.com" />

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700" type="text/css" media="all" />
<link rel="stylesheet" href="/css/style.css" type="text/css" media="all" />
<script type="text/javascript" src="/js/scripts.js"></script>
<link rel="shortcut icon" href="/favicon.ico">

</head>
<body class="body body-right-sidebar mobile" itemscope="itemscope" itemtype="http://schema.org/WebPage">
	<div class="container container-outer">
		<header class="header" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
			<div class="container container-inner clearfix">
				<div class="logo" role="banner" itemscope="itemscope" itemtype="http://schema.org/Brand">
					<a class="logo__link" href="/" title="Virtualizing a Physical World" rel="home">
						<h1 class="logo__title">Virtualizing a Physical World</h1>
						<h2 class="logo__tagline">Virtualizaton Blogging</h2>
					</a>
				</div>
			</div>
			
<nav class="menu" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
	<ul class="menu__list">
		<li class="menu__item"><a class="menu__link" href="/page/vrops/">VROPS</a></li>
		<li class="menu__item"><a class="menu__link" href="/tags/azure/">AZURE</a></li>
		<li class="menu__item"><a class="menu__link" href="/page/about/">ABOUT ME</a></li>
	</ul>
</nav>

		</header>
		<div class="wrapper clearfix">

<main class="main-content content" role="main" itemprop="mainContentOfPage">
	<article class="post">
		<header class="post__header clearfix">
			<h1 class="post__title">How to Create an Azure Virtual Machine</h1>
			<p class="post__meta meta">
				<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
				<time class="post__meta-date" datetime="2017-05-30T12:57:51">May 30, 2017</time>
				<span class="post__meta-categories meta-categories">
					<svg class="icon icon-category" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
					<a class="meta-categories__link" href="/categories/cloud" rel="category">Cloud</a></span>
			</p>
		</header>
		<div class="post__content clearfix">
			<p>One of the most basic tasks a VMware administrator will perform is deploying a virtual machine. Whether it is creating a VM from scratch or using a template, we&rsquo;ve all worked through the wizard.</p>

<p>As I dig deeper into Azure I can&rsquo;t help but bring my experience with vSphere along with me. The Azure Resource Manger is a very different experience from the vSphere Web Client but there also quite a few similarities. I invite you to join me as I walk through the creation of an Azure Virtual machine.</p>

<p>The basic deployment of an Azure Virtual Machine starts at <a href="https://portal.azure.com">https://portal.azure.com</a>. This leads you to the Azure Resource Manager (aka ARM) dashboard, the launching pad for all of Microsoft&rsquo;s ARM services. Once you&rsquo;re logged in, click on Virtual Machines in the left navigation blade.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/1-Azure-Dashboard.png" alt="Azure Dashboard" /></p>

<p>After you click into the Virtual Machine service, click the Add button to add a new Virtual Machine.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/2-Add-vm.png" alt="Add VM" /></p>

<p>This opens the Azure virtual machine creation wizard. The navigation system is called a blade. These blades take you through the process of creating the virtual machine.</p>

<p>the first blade that opens is the Azure Marketplace. You can choose an operating system or a partner created image here. You can think of this as you vSphere content library or folder of templates.</p>

<p>To continue through this tutorial click Windows Server</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/3-choose-image.png" alt="Choose Operation System" /></p>

<p>Another blade opens. This blade gives you many options for the version of Windows Server available to deploy. Choose Windows Server 2016 Datacenter</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/4-choose-version.png" alt="Choose OS Image" /></p>

<p>After choosing the operating system version you choose a deployment model. There are two deployment models: Resource Manager and Classic. There are many differences between the two models, though I&rsquo;ll keep it brief in the interest of time. Basically, Resource Manager allows for grouping resources with the same lifecycle with Resource Groups. You can delete, delegate access with Role Based Access Control, and separate your bill via Resource group.</p>

<p>Azure is encouraging everyone to use Resource Manager so we will choose that.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/5-choose-deploy-model.png" alt="ChooseDeployModel" /></p>

<p>Now it&rsquo;s time to start creating our virtual machine.  The first blade we encounter allows us to set the basic details of our machine. I will set up this machine as if I had a brand new account with nothing created aside from the subscription. Check out my <a href="https://tbgree00.github.io/post/azurefree/">Azure resources</a> post if you still need to set up a subscription. You can redeem the free trial or the Visual Studio Essentials credit mentioned in that article.</p>

<p>In this example I choose HDD as my VM disk type. You can also choose SSD but this affects your options for VM sizing and price.</p>

<p>I chose to create a new resource group for this example. If this VM was part of a bigger project or application We could choose an existing resource group.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/6-vm-basics.png" alt="VMBasics" /></p>

<p>After hitting OK another blade opens. This blade allows you to choose a size for the virtual machine. If you&rsquo;re a VMware administrator new to cloud, this will be an odd concept. When I make a VM in vSphere I can add any combination of cores and RAM.  In Azure you must choose from a number of predetermined VM sizes. Not only do these sizes impact CPU and RAM but also the maximum number of extra data disks that can be attached.</p>

<p>When the blade loads it only shows you three <strong>Recommended</strong> VM sizes. If the price and configuration of these machines are acceptable, feel free to click one. I felt it was very expensive so I clicked <strong>View All</strong>.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/7-view-all-size.png" alt="ViewAllSizes" /></p>

<p>The full list of possible virtual machine sizes will populate. Some may be unavailable due to restrictions on your subscription. For example, there is a limit of 4 total cpu on my subscription so I couldn&rsquo;t deploy a 6 CPU machine,</p>

<p>Scroll through the list and choose a <strong>A0 Basic</strong> machine size. This will be fine for our example.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/8-vm-size.png" alt="VMSize" /></p>

<p>Making that choice opens another blade for optional features. There is a lot to unpack on this blade:</p>

<p><strong><a href="https://tbgree00.github.io/post/azurestorageacct/">Storage account</a></strong>: In vSphere datastores are configured on the host. When you deploy a VM you choose a datastore or datastore cluster. The performance and resilience are configured at the SAN. In Azure you must create a storage account to store your VMs.</p>

<p>A storage account allows you to configure performance, encryption at rest, and redundancy on the account. After configuring this account you choose it from a drop down and it just works.</p>

<p><strong>Virtual Network</strong>: in vSphere networking is configured with vSwitches or distributed vSwitches. Unless you&rsquo;re using NSX you have little control of security or routing beyond that.</p>

<p>An Azure virtual network allows you to carve out subnets, create routes, and secure endpoints.  Each of the Virtual network, subnet, public IP, and security group can be customized here or chosen from an existing set.</p>

<p><strong>Extensions</strong> allow you to customize your virtual machine with programs from the Azure Marketplace. You can install antivirus agents, the Powershell desired state configuration agent, or the Puppet agent, for example.</p>

<p><strong>High Availability</strong> in the cloud is very different than in a vSphere datacenter. So long as storage is shared between hosts in the cluster, a check box will allow a virtual machine to power on in seconds if a host crashes.</p>

<p>In Azure this isn&rsquo;t the case. If you only deploy one virtual machine there is no guarantee of availability. In order to achieve a 99.9 uptime you must deploy at least two virtual machines.</p>

<p>You have the option to create an availability set. This will let you deploy multiple identical copies of the virtual machine and assure that there will be at least one copy available 99.9% of the time.</p>

<p>Just leave the defaults and click OK to move on.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/9-optional-settings.png" alt="OptionalSettings" /></p>

<p>The summary blade displays everything we configured. At the bottom of the page is an interesting link: Download template and parameters. Click it.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/10-summary-template.png" alt="Summary" /></p>

<p>There were quite a few clicks to go through just to deploy one VM. Azure provides us a very easy way to download a template to recreate this machine, just by clicking this link. A new blade opens and gives you the option to add the template to a library or to download the script and run it yourself. The best part is that you can customize the template and use it to deploy other virtual machines in the future.</p>

<p>Press the <strong>X</strong> in the top right of the template blade to return to the summary, then click OK.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/11-save-template.png" alt="SaveTemplate" /></p>

<p>We are finally deploying our first Azure virtual machine. When you deploy a virtual machine it will create a widget on your dashboard. Once the machine has deployed you can click there to open the blade with the virtual machine connection and management information.</p>

<p><img src="https://s3.us-east-2.amazonaws.com/thomgreene-blog-photos/azure/createvm/12-deploy-widget.png" alt="DeployingWidget" /></p>

<p>There are many new concepts to learn as you extend VMware knowledge into Azure. Hopefully this helps clear up some of the basics of Azure Virtual Machines as they compare to vSphere virtual machines.</p>

		</div>
		
<div class="post__tags tags clearfix">
	<svg class="icon icon-tag" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m4.73135 3.3795002q0-.5597-.39604-.9557-.39604-.3961-.95577-.3961-.55974 0-.95578.3961-.39604.396-.39604.9557 0 .5598.39604.9558.39604.3961.95578.3961.55973 0 .95577-.3961.39604-.396.39604-.9558zm11.26865 6.0832q0 .5596998-.39076.9504998l-5.18548 5.196q-.41188.3908-.9610504.3908-.55974 0-.9505-.3908l-7.5511496-7.5616998q-.40132-.3907-.68119-1.0666-.27987-.6759-.27987-1.2357v-4.3934q0-.54920004.40132-.95050004.40132-.4013.9505-.4013h4.39339q.55974 0 1.23565.2799.67591.2798 1.07723.6812l7.55115 7.54060004q.39076.4118.39076.961z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link" href="/tags/azure/" rel="tag">Azure</a></li>
	</ul>
</div>

	</article>
	
<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Thom Greene avatar" src="/img/avatar.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Thom Greene</span>
	</div>
	<div class="authorbox__description">
		vBrownbag crew, vExpert, Disney Nerd.
	</div>
</div>
	
<nav class="post-nav row clearfix" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
	<div class="post-nav__item post-nav__item--prev col-1-2">
		<a class="post-nav__link" href="/post/azurefree/" rel="prev"><span class="post-nav__caption">«Previous</span><p class="post-nav__post-title">Getting Started with Azure for Free</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next col-1-2">
		<a class="post-nav__link" href="/post/azurestorageacct/" rel="next"><span class="post-nav__caption">Next»</span><p class="post-nav__post-title">How to Create an Azure Storage Account</p></a>
	</div>
</nav>

	
</main>

<aside class="sidebar" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
	
<div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="//google.com/search">
		<label>
			<span class="screen-reader-text">Search for:</span>
			<input class="widget-search__field" type="search" placeholder="SEARCH..." value="" name="q">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://tbgree00.github.io/" />
	</form>
</div>
	
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/post/vropslicensing/">VMware vRealize Operations Manager: Licensing and License Groups</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/vropsdesignintro/">VMware vRealize Operations Manager: Design Introduction</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/vropsdesignlab/">VMware vRealize Operations Manager: Design for a Home Lab</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/hackingpublicspeaking/">Hacking Public Speaking - Mentors to Help you Rock It</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/vmworld2017preview/">VMworld 2017 is Almost Here</a></li>
		</ul>
	</div>
</div>

	
<div class="widget-categories widget">
	<h4 class="widget__title">Categories</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/categories/certification">Certification</a></li>
			<li class="widget__item"><a class="widget__link" href="/categories/cloud">Cloud</a></li>
			<li class="widget__item"><a class="widget__link" href="/categories/community">Community</a></li>
			<li class="widget__item"><a class="widget__link" href="/categories/monitoring">Monitoring</a></li>
			<li class="widget__item"><a class="widget__link" href="/categories/presentations">Presentations</a></li>
			<li class="widget__item"><a class="widget__link" href="/categories/productivity">Productivity</a></li>
			<li class="widget__item"><a class="widget__link" href="/categories/troubleshooting">Troubleshooting</a></li>
			<li class="widget__item"><a class="widget__link" href="/categories/vmware">Vmware</a></li>
		</ul>
	</div>
</div>
	
<div class="widget-social widget">
	<h4 class="widget-social__title widget__title">Social</h4>
	<div class="widget-social__content widget__content">
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Twitter" rel="noopener noreferrer" href="https://twitter.com/tbgree00" target="_blank">
				<svg class="widget-social__link-icon icon-twitter" viewBox="0 0 384 312" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="#fff"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5 0-78.8 35.3-78.8 78.8 0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6 0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1 0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4 0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9 0 224.1-120 224.1-224.1 0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg>
				<span>Twitter</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="LinkedIn" rel="noopener noreferrer" href="https://linkedin.com/in/thom-greene" target="_blank">
				<svg class="widget-social__link-icon icon-linkedin" viewBox="0 0 352 352" width="24" height="24" fill="#fff" xmlns="http://www.w3.org/2000/svg"><path d="M0,40v272c0,21.9,18.1,40,40,40h272c21.9,0,40-18.1,40-40V40c0-21.9-18.1-40-40-40H40C18.1,0,0,18.1,0,40z M312,32 c4.6,0,8,3.4,8,8v272c0,4.6-3.4,8-8,8H40c-4.6,0-8-3.4-8-8V40c0-4.6,3.4-8,8-8H312z M59.5,87c0,15.2,12.3,27.5,27.5,27.5 c15.2,0,27.5-12.3,27.5-27.5c0-15.2-12.3-27.5-27.5-27.5C71.8,59.5,59.5,71.8,59.5,87z M187,157h-1v-21h-45v152h47v-75 c0-19.8,3.9-39,28.5-39c24.2,0,24.5,22.4,24.5,40v74h47v-83.5c0-40.9-8.7-72-56.5-72C208.5,132.5,193.3,145.1,187,157z M64,288h47.5 V136H64V288z"/></svg>
				<span>LinkedIn</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="GitHub" rel="noopener noreferrer" href="https://github.com/tbgree00" target="_blank">
				<svg class="widget-social__link-icon icon-github" viewBox="0 0 384 374" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="#fff"><path d="m192 0c-106.1 0-192 85.8-192 191.7 0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2 0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8 0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7 0 0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4 0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5 0 25.6-.2 46.3-.2 52.6 0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg>
				<span>GitHub</span>
			</a>
		</div>
	</div>
</div>

	
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget__link widget__link--taglist" href="/tags/aws" title="aws">aws</a>
		<a class="widget__link widget__link--taglist" href="/tags/azure" title="azure">azure</a>
		<a class="widget__link widget__link--taglist" href="/tags/command-line" title="command-line">command-line</a>
		<a class="widget__link widget__link--taglist" href="/tags/hardware" title="hardware">hardware</a>
		<a class="widget__link widget__link--taglist" href="/tags/homelab" title="homelab">homelab</a>
		<a class="widget__link widget__link--taglist" href="/tags/mentoring" title="mentoring">mentoring</a>
		<a class="widget__link widget__link--taglist" href="/tags/networking" title="networking">networking</a>
		<a class="widget__link widget__link--taglist" href="/tags/powercli" title="powercli">powercli</a>
		<a class="widget__link widget__link--taglist" href="/tags/public-speaking" title="public-speaking">public-speaking</a>
		<a class="widget__link widget__link--taglist" href="/tags/storage" title="storage">storage</a>
		<a class="widget__link widget__link--taglist" href="/tags/studying" title="studying">studying</a>
		<a class="widget__link widget__link--taglist" href="/tags/trip-report" title="trip-report">trip-report</a>
		<a class="widget__link widget__link--taglist" href="/tags/vcap" title="vcap">vcap</a>
		<a class="widget__link widget__link--taglist" href="/tags/vcdx" title="vcdx">vcdx</a>
		<a class="widget__link widget__link--taglist" href="/tags/vdm30in30" title="vdm30in30">vdm30in30</a>
		<a class="widget__link widget__link--taglist" href="/tags/vmworld" title="vmworld">vmworld</a>
		<a class="widget__link widget__link--taglist" href="/tags/vrealize-operations-manager" title="vrealize-operations-manager">vrealize-operations-manager</a>
	</div>
</div>
</aside>

	</div>
		<footer class="footer" itemscope="itemscope" itemtype="http://schema.org/WPFooter">
			<div class="container container-inner">
				<p class="footer__copyright">&copy; 2018 Virtualizing a Physical World. <span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad theme</a>.</span></p>
			</div>
		</footer>
	</div>

<script>
	var navigation = responsiveNav(".menu", {
		navClass: "menu--collapse",
	});
</script>
</body>
</html>
